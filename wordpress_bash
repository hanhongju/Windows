#wordpress安装脚本@CentOS7
#安装LNMP环境一键脚本，大约需要40分钟，php必须版本7以上
wget http://soft.vpser.net/lnmp/lnmp1.6beta.tar.gz -cO lnmp1.6beta.tar.gz && tar zxf lnmp1.6beta.tar.gz && cd lnmp1.6 && ./install.sh lnmp
#创建网站一键脚本，这一步不要创建数据库，后面手动创建
lnmp vhost add
#准备数据库相关命令
ln -s /usr/local/mysql/bin/mysql /usr/bin
ln -s /usr/local/mysql/bin/mysqladmin /usr/bin
#创建新数据库
mysqladmin -u root -pfengkuang create wordpress
#以上都可在宝塔面板中完成
#宝塔面板安装命令@CentOS7
#yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh
#宝塔面板需要做如下几件事：
#1、初始化LNMP环境，php版本7.4
#2、添加站点，根目录改为/home/wwwroot/
#3、申请SSL证书，伪静态改为wordpress
#4、使用数据库phpMyAdmin管理工具添加数据库wordpress，导入本地存档数据库
#修改网站地址
site=www.hanhongju.com     
#下载wordpress至网站根目录
wget    https://cn.wordpress.org/latest-zh_CN.tar.gz         -P   /home/wwwroot/$site/ 
#解压缩wordpress安装包
cd /home/wwwroot/$site   
tar zxf     latest-zh_CN.tar.gz
#拷贝wordpress程序至网站根目录
mv wordpress/*  .                                                     
#删除wp压缩包
rm -rf wordpress latest-zh_CN.tar.gz
#设置权限
chown www:www -R /home/wwwroot/$site
#浏览器进入网站开始配置


#转移网站->备份数据库，存放于wordpress.sql
mysqldump  -u root -pfengkuang  wordpress > /home/wordpress.sql
#将备份文件导入数据库
mysql -u root -pfengkuang wordpress < /home/wordpress.sql
#浏览器进入网站开始配置

#wordpress安装脚本@CentOS7
#安装LNMP环境一键脚本，大约需要40分钟，php必须版本7以上
wget http://soft.vpser.net/lnmp/lnmp1.6beta.tar.gz -cO lnmp1.6beta.tar.gz && tar zxf lnmp1.6beta.tar.gz && cd lnmp1.6 && ./install.sh lnmp
#创建网站一键脚本，这一步不要创建数据库，后面手动创建
lnmp vhost add
#准备数据库相关命令
ln -s /usr/local/mysql/bin/mysql /usr/bin
ln -s /usr/local/mysql/bin/mysqladmin /usr/bin
#创建新数据库
mysqladmin -u root -pfengkuang create wordpress
#修改网站地址
site=domain    
#下载wordpress至网站根目录
wget  -P   /home/wwwroot/$site/           https://cn.wordpress.org/latest-zh_CN.tar.gz 
#解压缩wordpress安装包
cd /home/wwwroot/$site   
tar zxf     latest-zh_CN.tar.gz
#拷贝wordpress程序至网站根目录
mv wordpress/*  .                                                     
#删除wp压缩包
rm -rf wordpress latest-zh_CN.tar.gz
#设置权限
chown www:www -R /home/wwwroot/$site
#浏览器进入网站开始配置


#转移网站->备份数据库，存放于wordpress.sql
mysqldump  -u root -pfengkuang  wordpress > /home/wordpress.sql
#将备份文件导入数据库
mysql -u root -pfengkuang wordpress < /home/wordpress.sql
#浏览器进入网站开始配置
